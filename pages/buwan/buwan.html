<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@500&display=swap" rel="stylesheet">
        <title>Grab Panda</title>
        <style>
            body{
               font-family: 'Open Sans', sans-serif;
                margin:0;
                padding:0;
                overflow-x: hidden;
                background: no-repeat gray fixed url('../../images/background.png');
                background-size:cover;
            }
            header {
                background-color: white;
            }
            #mainContainer {
                background-color: aliceblue;
                border-radius: 35px;
                overflow:hidden ;
            }
            #restaurantBanner {
                width: 100%;
                opacity: 80%;
            }
            #mainMenuAndForm {
                display: flex;
                flex-direction: row;
                justify-content: space-around ;
            }
            #mainMenu {
                width: 60%;
            }
            #orderForm {
                width: 30%;
            }
            .orderCard {
                overflow: hidden; 
                width: 100%; 
                margin-left: 6%;
                height: 200px;
            }
            .listItem {
                display: flex;
                justify-content: space-between;
                align-items:center ;
            }
            #notActuallyACard {
                border-right-width: 0px;
                border-top-width: 0px;
                border-left-width: 0px;
                border-bottom-width: 0px;
            }
            .card-img-overlay {
                background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(240, 248, 255, 1));;
                display: flex;
                flex-direction: column;
                justify-content: flex-end;
                padding-left: 2%;
            }
            .card-img-overlay h1{
                font-size: 400%
            }
            .cardImg {
                height: 110%;
                object-fit: cover;
            }
            hr {
                margin-top: 0%;
            }
            .card-title {
                font-weight: bold;
            }
            header a img {
                margin-top: 20px;
                padding-bottom:20px;
                height:90px;
                transition: all ease 0.25s;
            }
            #headerLogo :hover{
                opacity: 60%;
            }

        </style>
    </head>
    <body>
        <header style ="text-align: center;" class="mb-5">
            <a id="headerLogo" href="../../index.html"><img src="../../images/logo.png" alt="..."></a>
        </header>
        <div class="container mb-5">
            <div id="mainContainer">
                <div class="card mb-3" id="notActuallyACard">
                    <img id = "restaurantBanner" src="../../images/bLogo.png" class="card-img" style="height: 30vh; object-fit: cover;" alt="...">
                    <div class="card-img-overlay">
                        <h1 class="card-title">Buwan Cafe - Juan Karlos Lane</h1>
                    </div>
                </div>
                <div id="mainMenuAndForm" class="mb-3">
                    <div id="mainMenu">
                        <h1 class="mb-3">Appetizers</h1>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Appetizer/fries.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Fries</h5>
                                  <p class="card-text">A classic, can't be beat.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 85</small></p>
                                  <button onclick="addToMenu({orderID: 1, foodname: 'Fries', foodprice: 85 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Appetizer/nachos.PNG" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Cheese Nachos</h5>
                                  <p class="card-text">Another Classic, personally I would still choose fries.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 95</small></p>
                                  <button onclick="addToMenu({orderID: 2, foodname: 'Cheese Nachos', foodprice: 95 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Appetizer/quesadilla.PNG" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Beef Quesadillas</h5>
                                  <p class="card-text">Hopefully this is not cultural appropriation.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 115</small></p>
                                  <button onclick="addToMenu({orderID: 3, foodname: 'Beef Quesadillas', foodprice: 115 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <h1 class="mb-3">Pasta</h1>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Pasta/carbonara.PNG" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Carbonara</h5>
                                  <p class="card-text">A personall favourite pasta.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 105</small></p>
                                  <button onclick="addToMenu({orderID: 4, foodname: 'Carbonara', foodprice: 105 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Pasta/chickenpesto.PNG" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Chicken Pesto</h5>
                                  <p class="card-text">wait, i was wrong on the previous one, this is my favourite one.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 105</small></p>
                                  <button onclick="addToMenu({orderID: 5, foodname: 'Chicken Pesto', foodprice: 105 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Pasta/bolognese.PNG" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Bolognese</h5>
                                  <p class="card-text">Not everyone's favourite but still a good choice.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 105</small></p>
                                  <button onclick="addToMenu({orderID: 6, foodname: 'Bolognese', foodprice: 105 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <h1 class="mb-3">Coffee</h1>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Coffee/americano.PNG" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Americano (small)</h5>
                                  <p class="card-text">USA! USA! USA!</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 110</small></p>
                                  <button onclick="addToMenu({orderID: 7, foodname: 'Americano (small)', foodprice: 110 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Coffee/americano.PNG" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Americano (Regular)</h5>
                                  <p class="card-text">USA! USA! USA!</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 120</small></p>
                                  <button onclick="addToMenu({orderID: 8, foodname: 'Americano (Regular)', foodprice: 120 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Coffee/americano.PNG" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Americano (Large)</h5>
                                  <p class="card-text">USA! USA! USA!</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 130</small></p>
                                  <button onclick="addToMenu({orderID: 9, foodname: 'Americano (Large)', foodprice: 130 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Coffee/brewedcoffee.PNG" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Brewed Coffee (Small)</h5>
                                  <p class="card-text">It's definitely coffee.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 95</small></p>
                                  <button onclick="addToMenu({orderID: 10, foodname: 'Brewed Coffee (Small)', foodprice: 95 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Coffee/brewedcoffee.PNG" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Brewed Coffee (Regular)</h5>
                                  <p class="card-text">It's definitely coffee.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 110</small></p>
                                  <button onclick="addToMenu({orderID: 11, foodname: 'Brewed Coffee (Regular)', foodprice: 110 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Coffee/brewedcoffee.PNG" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Brewed Coffee (Large)</h5>
                                  <p class="card-text">It's definitely coffee.</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 125</small></p>
                                  <button onclick="addToMenu({orderID: 12, foodname: 'Brewed Coffee (Large)', foodprice: 125 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Coffee/latte.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Latte (Small)</h5>
                                  <p class="card-text"><small>tiny latte</small></p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 120</small></p>
                                  <button onclick="addToMenu({orderID: 13, foodname: 'Latte (Small)', foodprice: 120 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Coffee/latte.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Latte (Regular)</h5>
                                  <p class="card-text">regular latte</p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 130</small></p>
                                  <button onclick="addToMenu({orderID: 14, foodname: 'Latte (Regular)', foodprice: 130 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="card mb-3 orderCard">
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="../../images/Buwan_Cafe/Coffee/latte.jpg" class="img-fluid rounded-start cardImg" alt="...">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title">Latte (Large)</h5>
                                  <p class="card-text"><b>M O N O L I T H &nbsp; L A T T E</b></p>
                                  <p class="card-text"><small class="text-body-secondary">₱ 140</small></p>
                                  <button onclick="addToMenu({orderID: 15, foodname: 'Latte (Large)', foodprice: 140 })" class="btn btn-success">Add</button>
                                </div>
                              </div>
                            </div>
                        </div>
                    </div>
                    <div id="orderForm">
                        <div id = "orderContainer" class="container">
                            <div class="h1">
                                Cart
                            </div>
                            <div id = "orderList">
                            </div>
                            <hr>
                            <div id="SumOfOrders" class="mb-2">Total: ₱0</div>
                            <form action="http://sirjm.infinityfreeapp.com/aa2receiver.php">
                                <div class="mb-3">
                                    <label for="custname" class="form-label">Customer Name</label>
                                    <input class="form-control" type="text" id="custname" name="custname" placeholder="First Name M.I. Last Name">
                                </div>
                                <div class="mb-3">
                                    <label for="deliveryaddr" class="form-label">Delivery Addres</label>
                                    <input class="form-control" type="text" id="deliveryaddr" name="deliveryaddr" placeholder="308, Negro Arroyo Lane, Albuquerque, New Mexico">
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label" for="addrtype">Address Type:</label>
                                    <input id="addrtype" class="invisible">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="Home" value="Home" name="addrtype">
                                        <label class="form-check-label" for="Home">Home</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="Business" value="Business" name="addrtype">
                                        <label class="form-check-label" for="Business">Business</label>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <input class="form-control" type="hidden" id="foodcart" name="foodcart" >
                                </div>
            
                                <div class="mb-3">
                                    <input class="form-control" type="hidden" id="restoname" name="restoname" >
                                </div>
                                
                                <input class="btn btn-success" type="submit" value="Submit">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            //var orderListHTML = document.getElementById("orderList");
            //var foodcartHTML = document.getElementById("foodcart");
            //var restaurantNameHTML = document.getElementById("restoname");

//            var chickenPriceHTML = document.getElementById("chickenPrice");
  //          var spaghettiPriceHTML = document.getElementById("spaghettiPrice");
    //        var CheeseburgerPriceHTML = document.getElementById("CheeseburgerPrice");
      //      var pizzaPriceHTML = document.getElementById("pizzaPrice");
//
  //          restaurantNameHTML.value = "theBurgerKing";
    //        var sumOfItems = 0;
      //      var foodItems = [];
//
  //          var orderList = {};
    //        function addToMenuAAAAAAAAAA(orderItem){
      //          orderListHTML.innerHTML="";
        //        foodItems.push(orderItem);
          //      foodcartHTML.value = JSON.stringify(foodItems);
//
  //              for (var i = 0; i<= foodItems.length-1; i++){
    //                orderListHTML.innerHTML += "<div class='mb-2 listItem'> ₱" + foodItems[i].foodprice + " " + foodItems[i].foodname + " " + "<button onclick='removeFromMenu()' class='btn btn-danger'>Remove</button></div>";
      //              orderListHTML.innerHTML += "<hr>"
        //        }
          //      
            //    for (var i = 0; i<= foodItems.length-1; i++){
              //      foodItems[i].foodprice
                //}
            //}
        </script>
        <script>
            var orderListHTML = document.getElementById("orderList");
            var foodcartHTML = document.getElementById("foodcart");
            var restaurantNameHTML = document.getElementById("restoname");
            var SumOfOrders = document.getElementById("SumOfOrders");

            var chickenPriceHTML = document.getElementById("chickenPrice");
            var spaghettiPriceHTML = document.getElementById("spaghettiPrice");
            var CheeseburgerPriceHTML = document.getElementById("CheeseburgerPrice");
            var pizzaPriceHTML = document.getElementById("pizzaPrice");

            restaurantNameHTML.value = "Buwan Cafe";
            var sumOfItems = 0;
            var foodItems = [];

            var orderedList = [];
            var OrdersAmount = [];
            var d = 0;

            function addToMenu(orderItem){

                if (!(orderedList.includes(orderItem.orderID) )){
                    console.log("added to list");
                    orderedList.push(orderItem.orderID);
                    OrdersAmount[orderItem.orderID] = 1; 
                    orderListHTML.innerHTML += "<div id ='Order" + orderItem.orderID + "' class='mb-2 listItem'>" + orderItem.foodname + " ₱" + orderItem.foodprice + " " + OrdersAmount[orderItem.orderID] + "x" +"<button onclick='removeFromMenu(" + JSON.stringify(orderItem) + ")' class='btn btn-danger'>Remove</button>"+ "</div>";

                }
                else {
                    OrdersAmount[orderItem.orderID] +=1;

                    let a = document.getElementById(("Order" + orderItem.orderID));
                    a.innerHTML = orderItem.foodname + " ₱" + orderItem.foodprice + " " + OrdersAmount[orderItem.orderID] + "x" + "<button onclick='removeFromMenu(" + JSON.stringify(orderItem) + ")' class='btn btn-danger'>Remove</button>";

                }
                console.log(OrdersAmount[orderItem.orderID]);

                foodItems.push(orderItem);
                foodcartHTML.value = JSON.stringify(foodItems);

                d += orderItem.foodprice
                SumOfOrders.innerHTML = "Total: ₱" + d;
            }

            function removeFromMenu(orderItem){
                console.log(orderItem);
                OrdersAmount[orderItem.orderID] -=1;
                let a = document.getElementById(("Order" + orderItem.orderID));
                var removethesestuffidkanymorelmao = [];
                for (var i = 0; i < foodItems.length; i++){
                    if(foodItems[i].orderID == orderItem.orderID){
                        removethesestuffidkanymorelmao.push(i);
                    }
                }
                console.log(removethesestuffidkanymorelmao);

                if (OrdersAmount[orderItem.orderID] > 0 ){
                    a.innerHTML = orderItem.foodname + " ₱" + orderItem.foodprice + " " + OrdersAmount[orderItem.orderID] + "x" + "<button onclick='removeFromMenu(" + JSON.stringify(orderItem) + ")' class='btn btn-danger'>Remove</button>";
                    foodItems.splice(removethesestuffidkanymorelmao[0], 1);
                    
                }
                else{
                    var index = orderedList.indexOf(orderItem.orderID);
                    orderedList.splice(index, 1);
                    
  
                    foodItems.splice(removethesestuffidkanymorelmao[0], 1);
                    

                    a.remove();
                }
                foodcartHTML.value = JSON.stringify(foodItems);

                d -= orderItem.foodprice
                SumOfOrders.innerHTML = "Total: ₱" + d;
            } 
        </script>
    </body>
</html>
